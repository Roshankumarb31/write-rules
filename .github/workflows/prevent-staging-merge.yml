name: Block Staging Branch Merges

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  check-staging-merge:
    runs-on: ubuntu-latest
    if: github.head_ref == 'staging'
    steps:
      - name: Block staging merge to any branch
        run: |
          echo "‚ùå ERROR: Merging from 'staging' branch is not allowed"
          echo "Source branch: staging"
          echo "Target branch: ${{ github.base_ref }}"
          echo "This rule applies to ALL branches"
          exit 1
